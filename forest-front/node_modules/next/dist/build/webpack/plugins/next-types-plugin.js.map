{"version":3,"sources":["../../../../src/build/webpack/plugins/next-types-plugin.ts"],"names":["PLUGIN_NAME","createTypeGuardFile","fullPath","relativePath","options","type","HTTP_METHODS","map","method","join","slots","slot","collectNamedSlots","layoutPath","layoutDir","path","dirname","items","fs","readdir","withFileTypes","item","isDirectory","name","startsWith","push","slice","devPageFiles","Set","routeTypes","edge","static","dynamic","node","extra","formatRouteToRouteType","route","isDynamic","isDynamicRoute","split","part","endsWith","routeType","redirectsRewritesTypesProcessed","addRedirectsRewritesRouteTypes","rewrites","redirects","addExtraRoute","source","tokens","parse","Array","isArray","possibleNormalizedRoutes","slugCnt","append","suffix","i","length","fork","currentLength","token","slug","modifier","prefix","pattern","test","normalizedRoute","rewrite","beforeFiles","afterFiles","fallback","redirect","createRouteDefinitions","staticRouteTypes","dynamicRouteTypes","routeTypesFallback","appTypesBasePath","NextTypesPlugin","constructor","dir","distDir","appDir","dev","isEdgeServer","pageExtensions","pagesDir","typedRoutes","distDirAbsolutePath","originalRewrites","originalRedirects","getRelativePathFromAppTypesDir","moduleRelativePathToAppDir","moduleAbsolutePath","moduleInAppTypesAbsolutePath","relative","collectPage","filePath","isApp","sep","isPages","normalizeAppPath","denormalizePagePath","ensureLeadingSlash","getPageFromPath","apply","compiler","assetDirRelative","handleModule","mod","assets","resource","layer","WEBPACK_LAYERS","server","IS_LAYOUT","IS_PAGE","IS_ROUTE","relativePathToApp","typePath","replace","relativeImportPath","assetPath","normalizePathSep","sources","RawSource","hooks","compilation","tap","processAssets","tapAsync","stage","webpack","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","callback","promises","chunkGroups","forEach","chunkGroup","chunks","chunk","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","Promise","all","file","packageJsonTypePath","packageJsonAssetPath","linkTypePath","linkAssetPath"],"mappings":"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"}