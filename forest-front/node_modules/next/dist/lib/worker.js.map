{"version":3,"sources":["../../src/lib/worker.ts"],"names":["RESTARTED","Symbol","Worker","constructor","workerPath","options","timeout","onRestart","farmOptions","restartPromise","resolveRestartPromise","activeTasks","_worker","undefined","createWorker","JestWorker","forkOptions","env","process","NODE_OPTIONS","getNodeOptionsWithoutInspect","replace","trim","Promise","resolve","enableWorkerThreads","worker","_workerPool","_workers","_child","on","code","signal","console","error","getStdout","pipe","stdout","getStderr","stderr","onHanging","end","then","hangingTimer","onActivity","clearTimeout","setTimeout","method","exposedMethods","startsWith","args","attempts","result","race","bind","Error","close"],"mappings":"AAAA;;;;AACqC,IAAA,WAAgC,WAAhC,gCAAgC,CAAA;AACxB,IAAA,MAAqB,WAArB,qBAAqB,CAAA;AAGlE,MAAMA,SAAS,GAAGC,MAAM,CAAC,WAAW,CAAC;AAE9B,MAAMC,MAAM;IAGjBC,YACEC,UAAkB,EAClBC,OAKC,CACD;QACA,IAAI,EAAEC,OAAO,CAAA,EAAEC,SAAS,CAAA,EAAE,GAAGC,WAAW,EAAE,GAAGH,OAAO;QAEpD,IAAII,cAAc,AAA2B;QAC7C,IAAIC,qBAAqB,AAAiC;QAC1D,IAAIC,WAAW,GAAG,CAAC;QAEnB,IAAI,CAACC,OAAO,GAAGC,SAAS;QAExB,MAAMC,YAAY,GAAG,IAAM;gBAMdN,GAAuB;YALlC,IAAI,CAACI,OAAO,GAAG,IAAIG,WAAU,OAAA,CAACX,UAAU,EAAE;gBACxC,GAAGI,WAAW;gBACdQ,WAAW,EAAE;oBACX,GAAGR,WAAW,CAACQ,WAAW;oBAC1BC,GAAG,EAAE;wBACH,GAAKT,CAAAA,CAAAA,GAAuB,GAAvBA,WAAW,CAACQ,WAAW,SAAK,GAA5BR,KAAAA,CAA4B,GAA5BA,GAAuB,CAAES,GAAG,CAAA,IAAI,EAAE;wBACvC,GAAGC,OAAO,CAACD,GAAG;wBACd,4CAA4C;wBAC5C,qBAAqB;wBACrBE,YAAY,EAAEC,CAAAA,GAAAA,MAA4B,AAAE,CAAA,6BAAF,EAAE,CACzCC,OAAO,kCAAkC,EAAE,CAAC,CAC5CC,IAAI,EAAE;qBACV;iBACF;aACF,CAAC,AAAc;YAChBb,cAAc,GAAG,IAAIc,OAAO,CAC1B,CAACC,OAAO,GAAMd,qBAAqB,GAAGc,OAAO,AAAC,CAC/C;YAED;;;;;;;;SAQG,CACH,IAAI,CAAChB,WAAW,CAACiB,mBAAmB,EAAE;oBACd,IAAiC;gBAAvD,KAAK,MAAMC,MAAM,IAAK,CAAA,CAAA,IAAiC,GAAjC,AAAC,IAAI,CAACd,OAAO,CAASe,WAAW,SAAU,GAA3C,KAAA,CAA2C,GAA3C,IAAiC,CAAEC,QAAQ,CAAA,IAC/D,EAAE,CAEC;wBACHF,IAAa;oBAAbA,CAAAA,IAAa,GAAbA,MAAM,CAACG,MAAM,SAAI,GAAjBH,KAAAA,CAAiB,GAAjBA,IAAa,CAAEI,EAAE,CAAC,MAAM,EAAE,CAACC,IAAI,EAAEC,MAAM,GAAK;wBAC1C,8CAA8C;wBAC9C,IAAI,CAACD,IAAI,IAAIC,MAAM,CAAC,IAAI,IAAI,CAACpB,OAAO,EAAE;4BACpCqB,OAAO,CAACC,KAAK,CACX,CAAC,6CAA6C,EAAEH,IAAI,CAAC,aAAa,EAAEC,MAAM,CAAC,CAAC,CAC7E;yBACF;qBACF,CAAC,CAAA;iBACH;aACF;YAED,IAAI,CAACpB,OAAO,CAACuB,SAAS,EAAE,CAACC,IAAI,CAAClB,OAAO,CAACmB,MAAM,CAAC;YAC7C,IAAI,CAACzB,OAAO,CAAC0B,SAAS,EAAE,CAACF,IAAI,CAAClB,OAAO,CAACqB,MAAM,CAAC;SAC9C;QACDzB,YAAY,EAAE;QAEd,MAAM0B,SAAS,GAAG,IAAM;YACtB,MAAMd,MAAM,GAAG,IAAI,CAACd,OAAO;YAC3B,IAAI,CAACc,MAAM,EAAE,OAAM;YACnB,MAAMF,OAAO,GAAGd,qBAAqB;YACrCI,YAAY,EAAE;YACdY,MAAM,CAACe,GAAG,EAAE,CAACC,IAAI,CAAC,IAAM;gBACtBlB,OAAO,CAACxB,SAAS,CAAC;aACnB,CAAC;SACH;QAED,IAAI2C,YAAY,GAA2B,KAAK;QAEhD,MAAMC,UAAU,GAAG,IAAM;YACvB,IAAID,YAAY,EAAEE,YAAY,CAACF,YAAY,CAAC;YAC5CA,YAAY,GAAGhC,WAAW,GAAG,CAAC,IAAImC,UAAU,CAACN,SAAS,EAAElC,OAAO,CAAC;SACjE;QAED,KAAK,MAAMyC,MAAM,IAAIvC,WAAW,CAACwC,cAAc,CAAE;YAC/C,IAAID,MAAM,CAACE,UAAU,CAAC,GAAG,CAAC,EAAE,SAC3B;YAAA,AAAC,IAAI,AAAQ,CAACF,MAAM,CAAC,GAAGzC,OAAO,GAE5B,OAAO,GAAG4C,IAAI,AAAO,GAAK;gBACxBvC,WAAW,EAAE;gBACb,IAAI;oBACF,IAAIwC,QAAQ,GAAG,CAAC;oBAChB,OAAS;wBACPP,UAAU,EAAE;wBACZ,MAAMQ,MAAM,GAAG,MAAM7B,OAAO,CAAC8B,IAAI,CAAC;4BAC/B,IAAI,CAACzC,OAAO,AAAQ,CAACmC,MAAM,CAAC,IAAIG,IAAI,CAAC;4BACtCzC,cAAc;yBACf,CAAC;wBACF,IAAI2C,MAAM,KAAKpD,SAAS,EAAE,OAAOoD,MAAM,CAAA;wBACvC,IAAI7C,SAAS,EAAEA,SAAS,CAACwC,MAAM,EAAEG,IAAI,EAAE,EAAEC,QAAQ,CAAC;qBACnD;iBACF,QAAS;oBACRxC,WAAW,EAAE;oBACbiC,UAAU,EAAE;iBACb;aACF,GACD,AAAC,IAAI,CAAChC,OAAO,AAAQ,CAACmC,MAAM,CAAC,CAACO,IAAI,CAAC,IAAI,CAAC1C,OAAO,CAAC;SACrD;KACF;IAED6B,GAAG,GAAkC;QACnC,MAAMf,MAAM,GAAG,IAAI,CAACd,OAAO;QAC3B,IAAI,CAACc,MAAM,EAAE;YACX,MAAM,IAAI6B,KAAK,CAAC,gDAAgD,CAAC,CAAA;SAClE;QACD,IAAI,CAAC3C,OAAO,GAAGC,SAAS;QACxB,OAAOa,MAAM,CAACe,GAAG,EAAE,CAAA;KACpB;IAED;;KAEG,CACHe,KAAK,GAAS;QACZ,IAAI,IAAI,CAAC5C,OAAO,EAAE;YAChB,IAAI,CAACA,OAAO,CAAC6B,GAAG,EAAE;SACnB;KACF;CACF;QAlIYvC,MAAM,GAANA,MAAM"}