{"version":3,"sources":["../../../src/server/lib/server-ipc.ts"],"names":["createIpcServer","server","ipcServer","require","createServer","req","res","url","URL","method","searchParams","get","args","JSON","parse","Array","isArray","end","stack","deserializeErr","result","errorToJSON","stringify","err","isError","code","console","error","name","message","ipcPort","Promise","resolveIpc","listen","hostname","addr","address","port","createWorker","serverPort","isNodeDebugging","type","initialEnv","Worker","worker","resolve","numWorkers","maxRetries","forkOptions","env","FORCE_COLOR","NODE_OPTIONS","getNodeOptionsWithoutInspect","replace","trim","__NEXT_PRIVATE_RENDER_WORKER","__NEXT_PRIVATE_ROUTER_IPC_PORT","NODE_ENV","process","execArgv","genExecArgv","undefined","exposedMethods","getStderr","pipe","stderr","getStdout","stdout","forbiddenHeaders","filterReqHeaders","headers","key","value","Object","entries","includes","invokeRequest","targetUrl","requestInit","readableBody","parsedUrl","invokeHeaders","invokeRes","resolveInvoke","rejectInvoke","http","invokeReq","request","on"],"mappings":"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"}