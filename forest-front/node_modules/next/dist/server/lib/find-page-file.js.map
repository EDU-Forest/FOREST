{"version":3,"sources":["../../../src/server/lib/find-page-file.ts"],"names":["findPageFile","createValidFileMatcher","isTrueCasePagePath","pagePath","pagesDir","pageSegments","normalize","split","sep","filter","Boolean","segmentExistsPromises","map","segment","i","segmentParentDir","join","slice","parentDirEntries","fsPromises","readdir","includes","Promise","all","every","normalizedPagePath","pageExtensions","isAppDir","pagePaths","getPagePaths","existingPath","others","path","filePath","fileExists","err","code","nonNullable","length","warn","chalk","cyan","appDirPath","getExtensionRegexString","extensions","validExtensionFileRegex","RegExp","leafOnlyPageFileRegex","leafOnlyNotFoundFileRegex","isMetadataFile","appDirRelativePath","replace","isMetadataRouteFile","isAppRouterPage","test","isPageFile","isRootNotFound","startsWith","rest"],"mappings":"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"}