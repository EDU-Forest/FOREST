{"version":3,"sources":["../../../src/server/lib/route-resolver.ts"],"names":["makeResolver","DevRouteMatcherManager","DefaultRouteMatcherManager","constructor","hasPage","match","pathname","definition","kind","RouteKind","PAGES","page","filename","bundlePath","params","test","dir","nextConfig","middleware","url","require","default","Router","getPathMatch","DevServer","NodeNextRequest","NodeNextResponse","loadCustomRoutes","routeResults","WeakMap","TurbopackDevServerProxy","serveStatic","Promise","resolve","renderError","err","req","set","type","error","name","message","stack","parseStackTrace","render404","devServer","conf","hostname","port","matchers","reload","setDevReady","customRoutes","files","length","matcher","getMiddlewareMatchers","regexp","originalSource","getMiddlewareRouteMatcher","getEdgeFunctionInfo","original","paths","map","file","join","process","cwd","env","Object","keys","wasm","assets","bind","hasMiddleware","routes","generateRoutes","catchAllMiddleware","generateCatchAllMiddlewareRoute","buildId","pagesManifestRoute","fsRoutes","find","r","CLIENT_STATIC_FILES_PATH","DEV_CLIENT_PAGES_MANIFEST","fn","finished","router","catchAllRoute","res","_params","parsedUrl","key","query","startsWith","format","hash","statusCode","headers","getHeaders","compiledRoutes","filter","route","includes","resolveRoute","_req","_res","parse","attachRequestMeta","_initUrl","execute","originalResponse","headersSent","setHeader","routeResult","get","body","JSON","stringify","send","delete"],"mappings":"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"}