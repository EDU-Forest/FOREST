{"version":3,"sources":["../../../src/server/app-render/action-handler.ts"],"names":["handleAction","req","res","ComponentMod","pathname","serverActionsManifest","actionId","headers","ACTION","toLowerCase","contentType","isFormAction","method","isMultipartAction","startsWith","isFetchAction","undefined","process","env","NEXT_RUNTIME","bound","workerName","decodeReply","formFields","busboy","require","bb","innerResolvor","innerRejector","promise","Promise","resolve","reject","on","Error","err","id","val","pipe","Proxy","get","_","workers","name","chunks","parseBody","actionData","$$id","formData","URLSearchParams","delete","actionModId","actionHandler","__next_app_webpack_require__","returnVal","apply","result","ActionRenderResult","JSON","stringify","isRedirectError","redirectUrl","getURLFromRedirectError","statusCode","setHeader","isNotFoundError","RenderResult","message"],"mappings":"AAAA;;;;QAWsBA,YAAY,GAAZA,YAAY;AATX,IAAA,iBAA4C,WAA5C,4CAA4C,CAAA;AACnC,IAAA,SAAmC,WAAnC,mCAAmC,CAAA;AAI5D,IAAA,SAAkC,WAAlC,kCAAkC,CAAA;AAChB,IAAA,aAAkB,kCAAlB,kBAAkB,EAAA;AACR,IAAA,mBAAwB,WAAxB,wBAAwB,CAAA;;;;;;AAEpD,eAAeA,YAAY,CAAC,EACjCC,GAAG,CAAA,EACHC,GAAG,CAAA,EACHC,YAAY,CAAA,EACZC,QAAQ,CAAA,EACRC,qBAAqB,CAAA,EAOtB,EAAmD;IAClD,IAAIC,QAAQ,GAAGL,GAAG,CAACM,OAAO,CAACC,iBAAM,OAAA,CAACC,WAAW,EAAE,CAAC,AAAU;IAC1D,MAAMC,WAAW,GAAGT,GAAG,CAACM,OAAO,CAAC,cAAc,CAAC;IAC/C,MAAMI,YAAY,GAChBV,GAAG,CAACW,MAAM,KAAK,MAAM,IAAIF,WAAW,KAAK,mCAAmC;IAC9E,MAAMG,iBAAiB,GACrBZ,GAAG,CAACW,MAAM,KAAK,MAAM,KAAIF,WAAW,QAAY,GAAvBA,KAAAA,CAAuB,GAAvBA,WAAW,CAAEI,UAAU,CAAC,qBAAqB,CAAC,CAAA;IAEzE,MAAMC,aAAa,GACjBT,QAAQ,KAAKU,SAAS,IACtB,OAAOV,QAAQ,KAAK,QAAQ,IAC5BL,GAAG,CAACW,MAAM,KAAK,MAAM;IAEvB,IAAIG,aAAa,IAAIJ,YAAY,IAAIE,iBAAiB,EAAE;QACtD,IAAII,OAAO,CAACC,GAAG,CAACC,YAAY,KAAK,MAAM,EAAE;YACvC,IAAI;gBACF,IAAIC,KAAK,GAAG,EAAE;gBAEd,MAAMC,UAAU,GAAG,KAAK,GAAGjB,QAAQ;gBACnC,MAAM,EAAEkB,WAAW,CAAA,EAAE,GAAGnB,YAAY;gBAEpC,IAAIU,iBAAiB,EAAE;oBACrB,MAAMU,UAAU,GAAU,EAAE;oBAE5B,MAAMC,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;oBAChC,MAAMC,EAAE,GAAGF,MAAM,CAAC;wBAAEjB,OAAO,EAAEN,GAAG,CAACM,OAAO;qBAAE,CAAC;oBAC3C,IAAIoB,aAAa,AAAY,EAAEC,aAAa,AAAkB;oBAC9D,MAAMC,OAAO,GAAG,IAAIC,OAAO,CAAO,CAACC,OAAO,EAAEC,MAAM,GAAK;wBACrDL,aAAa,GAAGI,OAAO;wBACvBH,aAAa,GAAGI,MAAM;qBACvB,CAAC;oBACFN,EAAE,CAACO,EAAE,CAAC,MAAM,EAAE,IACZL,aAAa,CAAC,IAAIM,KAAK,CAAC,+BAA+B,CAAC,CAAC,CAC1D;oBACDR,EAAE,CAACO,EAAE,CAAC,OAAO,EAAE,CAACE,GAAQ,GAAKP,aAAa,CAACO,GAAG,CAAC,CAAC;oBAChDT,EAAE,CAACO,EAAE,CAAC,OAAO,EAAE,CAACG,EAAO,EAAEC,GAAQ,GAAMd,UAAU,CAAC,CAACa,EAAE,CAAC,GAAGC,GAAG,AAAC,CAAC;oBAC9DX,EAAE,CAACO,EAAE,CAAC,QAAQ,EAAE,IAAMN,aAAa,EAAE,CAAC;oBACtC1B,GAAG,CAACqC,IAAI,CAACZ,EAAE,CAAC;oBACZ,MAAMG,OAAO;oBAEbT,KAAK,GAAG,MAAME,WAAW,CACvBC,UAAU,EACV,IAAIgB,KAAK,CACP,EAAE,EACF;wBACEC,GAAG,EAAE,CAACC,CAAC,EAAEL,EAAU,GAAK;4BACtB,OAAO;gCACLA,EAAE,EAAE/B,qBAAqB,CAAC+B,EAAE,CAAC,CAACM,OAAO,CAACrB,UAAU,CAAC;gCACjDsB,IAAI,EAAEP,EAAE;gCACRQ,MAAM,EAAE,EAAE;6BACX,CAAA;yBACF;qBACF,CACF,CACF;iBACF,MAAM;oBACL,MAAM,EAAEC,SAAS,CAAA,EAAE,GACjBpB,OAAO,CAAC,mBAAmB,CAAC,AAAsC;oBACpE,MAAMqB,UAAU,GAAG,AAAC,MAAMD,SAAS,CAAC5C,GAAG,EAAE,KAAK,CAAC,IAAK,EAAE;oBAEtD,IAAIU,YAAY,EAAE;wBAChBL,QAAQ,GAAGwC,UAAU,CAACC,IAAI,AAAU;wBACpC,IAAI,CAACzC,QAAQ,EAAE;4BACb,MAAM,IAAI4B,KAAK,CAAC,+BAA+B,CAAC,CAAA;yBACjD;wBACD,MAAMc,QAAQ,GAAG,IAAIC,eAAe,CAACH,UAAU,CAAC;wBAChDE,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAC;wBACvB9B,KAAK,GAAG;4BAAC4B,QAAQ;yBAAC;qBACnB,MAAM;wBACL5B,KAAK,GAAG,MAAME,WAAW,CAACwB,UAAU,CAAC;qBACtC;iBACF;gBAED,MAAMK,WAAW,GAAG9C,qBAAqB,CAACC,QAAQ,CAAC,CAACoC,OAAO,CAACrB,UAAU,CAAC;gBACvE,MAAM+B,aAAa,GACjBjD,YAAY,CAACkD,4BAA4B,CAACF,WAAW,CAAC,CAAC7C,QAAQ,CAAC;gBAElE,MAAMgD,SAAS,GAAG,MAAMF,aAAa,CAACG,KAAK,CAAC,IAAI,EAAEnC,KAAK,CAAC;gBACxD,MAAMoC,MAAM,GAAG,IAAIC,mBAAkB,mBAAA,CAACC,IAAI,CAACC,SAAS,CAAC;oBAACL,SAAS;iBAAC,CAAC,CAAC;gBAClE,4DAA4D;gBAC5D,IAAIvC,aAAa,EAAE;oBACjB,OAAOyC,MAAM,CAAA;iBACd;aACF,CAAC,OAAOrB,GAAG,EAAE;gBACZ,IAAIyB,CAAAA,GAAAA,SAAe,AAAK,CAAA,gBAAL,CAACzB,GAAG,CAAC,EAAE;oBACxB,IAAIpB,aAAa,EAAE;wBACjB,MAAM,IAAImB,KAAK,CAAC,6BAA6B,CAAC,CAAA;qBAC/C;oBACD,MAAM2B,WAAW,GAAGC,CAAAA,GAAAA,SAAuB,AAAK,CAAA,wBAAL,CAAC3B,GAAG,CAAC;oBAChDjC,GAAG,CAAC6D,UAAU,GAAG,GAAG;oBACpB7D,GAAG,CAAC8D,SAAS,CAAC,UAAU,EAAEH,WAAW,CAAC;oBACtC,OAAO,IAAIJ,mBAAkB,mBAAA,CAACC,IAAI,CAACC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAA;iBAClD,MAAM,IAAIM,CAAAA,GAAAA,SAAe,AAAK,CAAA,gBAAL,CAAC9B,GAAG,CAAC,EAAE;oBAC/B,IAAIpB,aAAa,EAAE;wBACjB,MAAM,IAAImB,KAAK,CAAC,6BAA6B,CAAC,CAAA;qBAC/C;oBACDhC,GAAG,CAAC6D,UAAU,GAAG,GAAG;oBACpB,OAAO,WAAW,CAAA;iBACnB;gBAED,IAAIhD,aAAa,EAAE;wBAGf,GAAc;oBAFhBb,GAAG,CAAC6D,UAAU,GAAG,GAAG;oBACpB,OAAO,IAAIG,aAAY,QAAA,CACrB,CAAA,CAAA,GAAc,GAAb/B,GAAG,SAAmB,GAAvB,KAAA,CAAuB,GAAvB,GAAc,CAAEgC,OAAO,CAAA,IAAI,uBAAuB,CACnD,CAAA;iBACF;gBAED,MAAMhC,GAAG,CAAA;aACV;SACF,MAAM;YACL,MAAM,IAAID,KAAK,CAAC,kCAAkC,CAAC,CAAA;SACpD;KACF;CACF"}