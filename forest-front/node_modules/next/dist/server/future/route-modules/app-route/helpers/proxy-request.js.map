{"version":3,"sources":["../../../../../../src/server/future/route-modules/app-route/helpers/proxy-request.ts"],"names":["proxyRequest","request","dynamic","hooks","handleNextUrlBailout","prop","staticGenerationBailout","cache","handleForceStatic","url","searchParams","URLSearchParams","cleanURL","toString","headers","Headers","cookies","RequestCookies","NextURL","wrappedNextUrl","Proxy","nextUrl","get","target","result","href","undefined","value","bind","set","handleReqBailout","headerHooks"],"mappings":"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"}