{"version":3,"sources":["../../../src/client/components/layout-router.tsx"],"names":["React","useContext","use","ReactDOM","CacheStates","LayoutRouterContext","GlobalLayoutRouterContext","TemplateContext","fetchServerResponse","createInfinitePromise","ErrorBoundary","matchSegment","handleSmoothScroll","RedirectBoundary","NotFoundBoundary","getSegmentValue","createRouterCacheKey","walkAddRefetch","segmentPathToWalk","treeToRecreate","segment","parallelRouteKey","isLast","length","hasOwnProperty","subTree","undefined","slice","findDOMNode","instance","window","process","env","NODE_ENV","originalConsoleError","console","error","messages","includes","topOfElementInViewport","element","viewportHeight","rect","getBoundingClientRect","top","getHashFragmentDomNode","hashFragment","document","body","getElementById","getElementsByName","ScrollAndFocusHandler","Component","componentDidMount","handlePotentialScroll","componentDidUpdate","props","focusAndScrollRef","apply","render","children","domNode","HTMLElement","scrollTo","offsetTop","htmlElement","documentElement","clientHeight","scrollTop","scrollIntoView","dontForceLayout","focus","InnerLayoutRouter","parallelRouterKey","url","childNodes","childProp","segmentPath","tree","cacheKey","context","Error","changeByServerResponse","fullTree","childNode","get","current","status","LAZY_INITIALIZED","READY","subTreeData","set","data","parallelRoutes","Map","refetchTree","DATA_FETCH","URL","location","origin","nextUrl","head","flightData","overrideCanonicalUrl","href","setTimeout","startTransition","subtree","Provider","value","LoadingBoundary","loading","loadingStyles","hasLoading","Suspense","fallback","OuterLayoutRouter","errorStyles","templateStyles","template","notFound","notFoundStyles","asNotFound","childNodesForParallelRouter","treeSegment","childPropSegment","currentChildSegmentValue","preservedSegments","map","preservedSegment","isChildPropSegment","preservedSegmentValue","key","errorComponent","isActive"],"mappings":"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"}