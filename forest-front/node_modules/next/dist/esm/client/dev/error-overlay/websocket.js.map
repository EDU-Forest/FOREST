{"version":3,"sources":["../../../../src/client/dev/error-overlay/websocket.ts"],"names":["source","eventCallbacks","lastActivity","Date","now","getSocketProtocol","assetPrefix","protocol","location","URL","_","addMessageListener","cb","push","sendMessage","data","readyState","OPEN","send","connectHMR","options","timeout","init","close","handleOnline","log","console","handleMessage","event","forEach","timer","handleDisconnect","clearInterval","onerror","setTimeout","setInterval","hostname","port","replace","url","startsWith","split","window","WebSocket","path","onopen","onmessage"],"mappings":"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"}