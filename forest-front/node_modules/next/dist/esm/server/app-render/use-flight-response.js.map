{"version":3,"sources":["../../../src/server/app-render/use-flight-response.tsx"],"names":["readableStreamTee","encodeText","decodeText","htmlEscapeJsonString","isEdgeRuntime","useFlightResponse","writable","req","clientReferenceManifest","rscChunks","flightResponseRef","nonce","current","createFromReadableStream","require","renderStream","forwardStream","res","moduleMap","edgeSSRModuleMapping","ssrModuleMapping","bootstrapped","forwardReader","getReader","writer","getWriter","startScriptTag","JSON","stringify","textDecoder","TextDecoder","read","then","done","value","push","write","close","responsePartial","scripts"],"mappings":"AACA,SACEA,iBAAiB,EACjBC,UAAU,EACVC,UAAU,QACL,4BAA4B,CAAA;AACnC,SAASC,oBAAoB,QAAQ,eAAe,CAAA;AACpD,SAASC,aAAa,QAAQ,cAAc,CAAA;AAG5C;;;GAGG,CACH,OAAO,SAASC,iBAAiB,CAC/BC,QAAoC,EACpCC,GAA+B,EAC/BC,uBAAgD,EAChDC,SAAuB,EACvBC,iBAAoC,EACpCC,KAAc,EACQ;IACtB,IAAID,iBAAiB,CAACE,OAAO,KAAK,IAAI,EAAE;QACtC,OAAOF,iBAAiB,CAACE,OAAO,CAAA;KACjC;IACD,MAAM,EACJC,wBAAwB,CAAA,IACzB,GAAGC,OAAO,CAAC,yDAAyD,CAAC;IAEtE,MAAM,CAACC,YAAY,EAAEC,aAAa,CAAC,GAAGhB,iBAAiB,CAACO,GAAG,CAAC;IAC5D,MAAMU,GAAG,GAAGJ,wBAAwB,CAACE,YAAY,EAAE;QACjDG,SAAS,EAAEd,aAAa,GACpBI,uBAAuB,CAACW,oBAAoB,GAC5CX,uBAAuB,CAACY,gBAAgB;KAC7C,CAAC;IACFV,iBAAiB,CAACE,OAAO,GAAGK,GAAG;IAE/B,IAAII,YAAY,GAAG,KAAK;IACxB,iDAAiD;IACjD,MAAMC,aAAa,GAAGN,aAAa,CAACO,SAAS,EAAE;IAC/C,MAAMC,MAAM,GAAGlB,QAAQ,CAACmB,SAAS,EAAE;IACnC,MAAMC,cAAc,GAAGf,KAAK,GACxB,CAAC,cAAc,EAAEgB,IAAI,CAACC,SAAS,CAACjB,KAAK,CAAC,CAAC,CAAC,CAAC,GACzC,UAAU;IACd,MAAMkB,WAAW,GAAG,IAAIC,WAAW,EAAE;IAErC,SAASC,IAAI,GAAG;QACdT,aAAa,CAACS,IAAI,EAAE,CAACC,IAAI,CAAC,CAAC,EAAEC,IAAI,CAAA,EAAEC,KAAK,CAAA,EAAE,GAAK;YAC7C,IAAIA,KAAK,EAAE;gBACTzB,SAAS,CAAC0B,IAAI,CAACD,KAAK,CAAC;aACtB;YAED,IAAI,CAACb,YAAY,EAAE;gBACjBA,YAAY,GAAG,IAAI;gBACnBG,MAAM,CAACY,KAAK,CACVnC,UAAU,CACR,CAAC,EAAEyB,cAAc,CAAC,uCAAuC,EAAEvB,oBAAoB,CAC7EwB,IAAI,CAACC,SAAS,CAAC;AAAC,qBAAC;iBAAC,CAAC,CACpB,CAAC,UAAU,CAAC,CACd,CACF;aACF;YACD,IAAIK,IAAI,EAAE;gBACRvB,iBAAiB,CAACE,OAAO,GAAG,IAAI;gBAChCY,MAAM,CAACa,KAAK,EAAE;aACf,MAAM;gBACL,MAAMC,eAAe,GAAGpC,UAAU,CAACgC,KAAK,EAAEL,WAAW,CAAC;gBACtD,MAAMU,OAAO,GAAG,CAAC,EAAEb,cAAc,CAAC,mBAAmB,EAAEvB,oBAAoB,CACzEwB,IAAI,CAACC,SAAS,CAAC;AAAC,qBAAC;oBAAEU,eAAe;iBAAC,CAAC,CACrC,CAAC,UAAU,CAAC;gBAEbd,MAAM,CAACY,KAAK,CAACnC,UAAU,CAACsC,OAAO,CAAC,CAAC;gBACjCR,IAAI,EAAE;aACP;SACF,CAAC;KACH;IACDA,IAAI,EAAE;IAEN,OAAOd,GAAG,CAAA;CACX"}