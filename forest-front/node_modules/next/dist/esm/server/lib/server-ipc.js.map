{"version":3,"sources":["../../../src/server/lib/server-ipc.ts"],"names":["genExecArgv","getNodeOptionsWithoutInspect","deserializeErr","errorToJSON","isError","createIpcServer","server","ipcServer","require","createServer","req","res","url","URL","method","searchParams","get","args","JSON","parse","Array","isArray","end","stack","result","stringify","err","code","console","error","name","message","ipcPort","Promise","resolveIpc","listen","hostname","addr","address","port","createWorker","serverPort","isNodeDebugging","type","initialEnv","Worker","worker","resolve","numWorkers","maxRetries","forkOptions","env","FORCE_COLOR","NODE_OPTIONS","replace","trim","__NEXT_PRIVATE_RENDER_WORKER","__NEXT_PRIVATE_ROUTER_IPC_PORT","NODE_ENV","process","execArgv","undefined","exposedMethods","getStderr","pipe","stderr","getStdout","stdout","forbiddenHeaders","filterReqHeaders","headers","key","value","Object","entries","includes","invokeRequest","targetUrl","requestInit","readableBody","parsedUrl","invokeHeaders","invokeRes","resolveInvoke","rejectInvoke","http","invokeReq","request","on"],"mappings":"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"}