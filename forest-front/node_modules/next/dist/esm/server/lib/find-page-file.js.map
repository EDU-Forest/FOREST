{"version":3,"sources":["../../../src/server/lib/find-page-file.ts"],"names":["fileExists","getPagePaths","nonNullable","join","sep","normalize","promises","fsPromises","warn","chalk","isMetadataRouteFile","isTrueCasePagePath","pagePath","pagesDir","pageSegments","split","filter","Boolean","segmentExistsPromises","map","segment","i","segmentParentDir","slice","parentDirEntries","readdir","includes","Promise","all","every","findPageFile","normalizedPagePath","pageExtensions","isAppDir","pagePaths","existingPath","others","path","filePath","err","code","length","cyan","createValidFileMatcher","appDirPath","getExtensionRegexString","extensions","validExtensionFileRegex","RegExp","leafOnlyPageFileRegex","leafOnlyNotFoundFileRegex","isMetadataFile","appDirRelativePath","replace","isAppRouterPage","test","isPageFile","isRootNotFound","startsWith","rest"],"mappings":"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"}