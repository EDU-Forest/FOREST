{"version":3,"sources":["../../../src/server/lib/route-resolver.ts"],"names":["join","parse","parseStackTrace","RouteKind","DefaultRouteMatcherManager","getMiddlewareMatchers","getMiddlewareRouteMatcher","CLIENT_STATIC_FILES_PATH","DEV_CLIENT_PAGES_MANIFEST","DevRouteMatcherManager","constructor","hasPage","match","pathname","definition","kind","PAGES","page","filename","bundlePath","params","test","makeResolver","dir","nextConfig","middleware","url","require","default","Router","getPathMatch","DevServer","NodeNextRequest","NodeNextResponse","loadCustomRoutes","routeResults","WeakMap","TurbopackDevServerProxy","serveStatic","Promise","resolve","renderError","err","req","set","type","error","name","message","stack","render404","devServer","conf","hostname","port","matchers","reload","setDevReady","customRoutes","files","length","matcher","regexp","originalSource","getEdgeFunctionInfo","original","paths","map","file","process","cwd","env","Object","keys","wasm","assets","bind","hasMiddleware","routes","generateRoutes","catchAllMiddleware","generateCatchAllMiddlewareRoute","buildId","pagesManifestRoute","fsRoutes","find","r","fn","finished","router","catchAllRoute","res","_params","parsedUrl","key","query","startsWith","format","hash","statusCode","headers","getHeaders","compiledRoutes","filter","route","includes","resolveRoute","_req","_res","attachRequestMeta","_initUrl","execute","originalResponse","headersSent","setHeader","routeResult","get","body","JSON","stringify","send","delete"],"mappings":"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"}