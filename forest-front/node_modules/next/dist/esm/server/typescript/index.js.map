{"version":3,"sources":["../../../src/server/typescript/index.ts"],"names":["init","getIsClientEntry","isAppEntryFile","isDefaultFunctionExport","isPositionInsideNode","getSource","isInsideApp","NEXT_TS_ERRORS","entryConfig","serverLayer","entryDefault","clientBoundary","metadata","errorEntry","createTSPlugin","modules","ts","typescript","create","info","proxy","Object","k","keys","languageService","x","args","apply","getCompletionsAtPosition","fileName","position","options","prior","isGlobalCompletion","isMemberCompletion","isNewIdentifierLocation","entries","filterCompletionsAtPosition","addCompletionsAtPosition","source","forEachChild","node","push","getCompletionEntryDetails","entryName","formatOptions","preferences","data","entryCompletionEntryDetails","metadataCompletionEntryDetails","getQuickInfoAtPosition","definitions","getDefinitionAtPosition","hasDisallowedReactAPIDefinition","metadataInfo","overriden","getSemanticDiagnostics","isClientEntry","isAppEntry","e","file","category","DiagnosticCategory","Error","code","MISPLACED_CLIENT_ENTRY","errorDiagnostic","isImportDeclaration","diagnostics","getSemanticDiagnosticsForImportDeclaration","isVariableStatement","modifiers","some","m","kind","SyntaxKind","ExportKeyword","getSemanticDiagnosticsForExportVariableStatement","metadataDiagnostics","getSemanticDiagnosticsForExportVariableStatementInClientEntry","getSemanticDiagnosticsForFunctionExport","isFunctionDeclaration","isExportDeclaration","getSemanticDiagnosticsForExportDeclarationInClientEntry","getSemanticDiagnosticsForExportDeclaration","getDefinitionAndBoundSpan","metadataDefinition"],"mappings":"AAAA;;;;;;;;GAQG,CAEH,SACEA,IAAI,EACJC,gBAAgB,EAChBC,cAAc,EACdC,uBAAuB,EACvBC,oBAAoB,EACpBC,SAAS,EACTC,WAAW,QACN,SAAS,CAAA;AAChB,SAASC,cAAc,QAAQ,YAAY,CAAA;AAE3C,OAAOC,WAAW,MAAM,gBAAgB,CAAA;AACxC,OAAOC,WAAW,MAAM,gBAAgB,CAAA;AACxC,OAAOC,YAAY,MAAM,eAAe,CAAA;AACxC,OAAOC,cAAc,MAAM,yBAAyB,CAAA;AACpD,OAAOC,QAAQ,MAAM,kBAAkB,CAAA;AACvC,OAAOC,UAAU,MAAM,eAAe,CAAA;AAEtC,OAAO,SAASC,cAAc,CAACC,OAE9B,EAAE;IACD,MAAMC,EAAE,GAAGD,OAAO,CAACE,UAAU;IAE7B,SAASC,MAAM,CAACC,IAAgC,EAAE;QAChDnB,IAAI,CAAC;YACHgB,EAAE;YACFG,IAAI;SACL,CAAC;QAEF,0BAA0B;QAC1B,MAAMC,KAAK,GAAGC,MAAM,CAACH,MAAM,CAAC,IAAI,CAAC;QACjC,KAAK,IAAII,CAAC,IAAID,MAAM,CAACE,IAAI,CAACJ,IAAI,CAACK,eAAe,CAAC,CAAE;YAC/C,MAAMC,CAAC,GAAG,AAACN,IAAI,CAACK,eAAe,AAAQ,CAACF,CAAC,CAAC;YAC1CF,KAAK,CAACE,CAAC,CAAC,GAAG,CAAC,GAAGI,IAAI,AAAW,GAAKD,CAAC,CAACE,KAAK,CAACR,IAAI,CAACK,eAAe,EAAEE,IAAI,CAAC;SACvE;QAED,kBAAkB;QAClBN,KAAK,CAACQ,wBAAwB,GAAG,CAC/BC,QAAgB,EAChBC,QAAgB,EAChBC,OAAY,GACT;YACH,IAAIC,KAAK,GAAGb,IAAI,CAACK,eAAe,CAACI,wBAAwB,CACvDC,QAAQ,EACRC,QAAQ,EACRC,OAAO,CACR,IAAI;gBACHE,kBAAkB,EAAE,KAAK;gBACzBC,kBAAkB,EAAE,KAAK;gBACzBC,uBAAuB,EAAE,KAAK;gBAC9BC,OAAO,EAAE,EAAE;aACZ;YACD,IAAI,CAAClC,cAAc,CAAC2B,QAAQ,CAAC,EAAE,OAAOG,KAAK,CAAA;YAE3C,0BAA0B;YAC1B,IAAI,CAAC/B,gBAAgB,CAAC4B,QAAQ,CAAC,EAAE;gBAC/B,gDAAgD;gBAChDG,KAAK,CAACI,OAAO,GAAG3B,WAAW,CAAC4B,2BAA2B,CAACL,KAAK,CAACI,OAAO,CAAC;gBAEtE,6CAA6C;gBAC7CJ,KAAK,GAAGpB,QAAQ,CAACyB,2BAA2B,CAC1CR,QAAQ,EACRC,QAAQ,EACRC,OAAO,EACPC,KAAK,CACN;aACF;YAED,2CAA2C;YAC3CxB,WAAW,CAAC8B,wBAAwB,CAACT,QAAQ,EAAEC,QAAQ,EAAEE,KAAK,CAAC;YAE/D,MAAMO,MAAM,GAAGlC,SAAS,CAACwB,QAAQ,CAAC;YAClC,IAAI,CAACU,MAAM,EAAE,OAAOP,KAAK,CAAA;YAEzBhB,EAAE,CAACwB,YAAY,CAACD,MAAM,EAAG,CAACE,IAAI,GAAK;gBACjC,uDAAuD;gBACvD,IACErC,oBAAoB,CAAC0B,QAAQ,EAAEW,IAAI,CAAC,IACpCtC,uBAAuB,CAACsC,IAAI,CAAC,EAC7B;oBACAT,KAAK,CAACI,OAAO,CAACM,IAAI,IACbhC,YAAY,CAACkB,wBAAwB,CACtCC,QAAQ,EACRY,IAAI,EACJX,QAAQ,CACT,CACF;iBACF;aACF,CAAC;YAEF,OAAOE,KAAK,CAAA;SACb;QAED,+BAA+B;QAC/BZ,KAAK,CAACuB,yBAAyB,GAAG,CAChCd,QAAgB,EAChBC,QAAgB,EAChBc,SAAiB,EACjBC,aAAmC,EACnCN,MAAc,EACdO,WAA+B,EAC/BC,IAA4B,GACzB;YACH,MAAMC,2BAA2B,GAAGxC,WAAW,CAACmC,yBAAyB,CACvEC,SAAS,EACTG,IAAI,CACL;YACD,IAAIC,2BAA2B,EAAE,OAAOA,2BAA2B,CAAA;YAEnE,MAAMC,8BAA8B,GAAGrC,QAAQ,CAAC+B,yBAAyB,CACvEd,QAAQ,EACRC,QAAQ,EACRc,SAAS,EACTC,aAAa,EACbN,MAAM,EACNO,WAAW,EACXC,IAAI,CACL;YACD,IAAIE,8BAA8B,EAAE,OAAOA,8BAA8B,CAAA;YAEzE,OAAO9B,IAAI,CAACK,eAAe,CAACmB,yBAAyB,CACnDd,QAAQ,EACRC,QAAQ,EACRc,SAAS,EACTC,aAAa,EACbN,MAAM,EACNO,WAAW,EACXC,IAAI,CACL,CAAA;SACF;QAED,aAAa;QACb3B,KAAK,CAAC8B,sBAAsB,GAAG,CAACrB,QAAgB,EAAEC,QAAgB,GAAK;YACrE,MAAME,KAAK,GAAGb,IAAI,CAACK,eAAe,CAAC0B,sBAAsB,CACvDrB,QAAQ,EACRC,QAAQ,CACT;YACD,IAAI,CAAC5B,cAAc,CAAC2B,QAAQ,CAAC,EAAE,OAAOG,KAAK,CAAA;YAE3C,oEAAoE;YACpE,IAAI,CAAC/B,gBAAgB,CAAC4B,QAAQ,CAAC,EAAE;gBAC/B,MAAMsB,WAAW,GAAGhC,IAAI,CAACK,eAAe,CAAC4B,uBAAuB,CAC9DvB,QAAQ,EACRC,QAAQ,CACT;gBACD,IACEqB,WAAW,IACX1C,WAAW,CAAC4C,+BAA+B,CAACF,WAAW,CAAC,EACxD;oBACA,OAAM;iBACP;gBAED,MAAMG,YAAY,GAAG1C,QAAQ,CAACsC,sBAAsB,CAACrB,QAAQ,EAAEC,QAAQ,CAAC;gBACxE,IAAIwB,YAAY,EAAE,OAAOA,YAAY,CAAA;aACtC;YAED,MAAMC,SAAS,GAAG/C,WAAW,CAAC0C,sBAAsB,CAACrB,QAAQ,EAAEC,QAAQ,CAAC;YACxE,IAAIyB,SAAS,EAAE,OAAOA,SAAS,CAAA;YAE/B,OAAOvB,KAAK,CAAA;SACb;QAED,qCAAqC;QACrCZ,KAAK,CAACoC,sBAAsB,GAAG,CAAC3B,QAAgB,GAAK;YACnD,MAAMG,KAAK,GAAGb,IAAI,CAACK,eAAe,CAACgC,sBAAsB,CAAC3B,QAAQ,CAAC;YACnE,MAAMU,MAAM,GAAGlC,SAAS,CAACwB,QAAQ,CAAC;YAClC,IAAI,CAACU,MAAM,EAAE,OAAOP,KAAK,CAAA;YAEzB,IAAIyB,aAAa,GAAG,KAAK;YACzB,MAAMC,UAAU,GAAGxD,cAAc,CAAC2B,QAAQ,CAAC;YAE3C,IAAI;gBACF4B,aAAa,GAAGxD,gBAAgB,CAAC4B,QAAQ,EAAE,IAAI,CAAC;aACjD,CAAC,OAAO8B,CAAC,EAAO;gBACf3B,KAAK,CAACU,IAAI,CAAC;oBACTkB,IAAI,EAAErB,MAAM;oBACZsB,QAAQ,EAAE7C,EAAE,CAAC8C,kBAAkB,CAACC,KAAK;oBACrCC,IAAI,EAAEzD,cAAc,CAAC0D,sBAAsB;oBAC3C,GAAGN,CAAC;iBACL,CAAC;gBACFF,aAAa,GAAG,KAAK;aACtB;YAED,IAAInD,WAAW,CAACuB,QAAQ,CAAC,EAAE;gBACzB,MAAMqC,eAAe,GAAGrD,UAAU,CAAC2C,sBAAsB,CACvDjB,MAAM,EACNkB,aAAa,CACd;gBACDzB,KAAK,CAACU,IAAI,IAAIwB,eAAe,CAAC;aAC/B;YAEDlD,EAAE,CAACwB,YAAY,CAACD,MAAM,EAAG,CAACE,IAAI,GAAK;oBAgB/BA,GAAc,EAmDdA,IAAc;gBAlEhB,IAAIzB,EAAE,CAACmD,mBAAmB,CAAC1B,IAAI,CAAC,EAAE;oBAChC,aAAa;oBACb,IAAIiB,UAAU,EAAE;wBACd,IAAI,CAACD,aAAa,EAAE;4BAClB,oDAAoD;4BACpD,MAAMW,WAAW,GACf3D,WAAW,CAAC4D,0CAA0C,CACpD9B,MAAM,EACNE,IAAI,CACL;4BACHT,KAAK,CAACU,IAAI,IAAI0B,WAAW,CAAC;yBAC3B;qBACF;iBACF,MAAM,IACLpD,EAAE,CAACsD,mBAAmB,CAAC7B,IAAI,CAAC,KAC5BA,CAAAA,GAAc,GAAdA,IAAI,CAAC8B,SAAS,SAAM,GAApB9B,KAAAA,CAAoB,GAApBA,GAAc,CAAE+B,IAAI,CAAC,CAACC,CAAC,GAAKA,CAAC,CAACC,IAAI,KAAK1D,EAAE,CAAC2D,UAAU,CAACC,aAAa,CAAC,CAAA,EACnE;oBACA,mBAAmB;oBACnB,IAAIlB,UAAU,EAAE;wBACd,yCAAyC;wBACzC,MAAMU,WAAW,GACf5D,WAAW,CAACqE,gDAAgD,CAC1DtC,MAAM,EACNE,IAAI,CACL;wBACH,MAAMqC,mBAAmB,GAAGrB,aAAa,GACrC7C,QAAQ,CAACmE,6DAA6D,CACpElD,QAAQ,EACRY,IAAI,CACL,GACD7B,QAAQ,CAACiE,gDAAgD,CACvDhD,QAAQ,EACRY,IAAI,CACL;wBACLT,KAAK,CAACU,IAAI,IAAI0B,WAAW,KAAKU,mBAAmB,CAAC;qBACnD;oBAED,IAAIrB,aAAa,EAAE;wBACjBzB,KAAK,CAACU,IAAI,IACL/B,cAAc,CAACkE,gDAAgD,CAChEtC,MAAM,EACNE,IAAI,CACL,CACF;qBACF;iBACF,MAAM,IAAItC,uBAAuB,CAACsC,IAAI,CAAC,EAAE;oBACxC,8BAA8B;oBAC9B,IAAIiB,UAAU,EAAE;wBACd,MAAMU,WAAW,GAAG1D,YAAY,CAAC8C,sBAAsB,CACrD3B,QAAQ,EACRU,MAAM,EACNE,IAAI,CACL;wBACDT,KAAK,CAACU,IAAI,IAAI0B,WAAW,CAAC;qBAC3B;oBAED,IAAIX,aAAa,EAAE;wBACjBzB,KAAK,CAACU,IAAI,IACL/B,cAAc,CAACqE,uCAAuC,CACvDzC,MAAM,EACNE,IAAI,CACL,CACF;qBACF;iBACF,MAAM,IACLzB,EAAE,CAACiE,qBAAqB,CAACxC,IAAI,CAAC,KAC9BA,CAAAA,IAAc,GAAdA,IAAI,CAAC8B,SAAS,SAAM,GAApB9B,KAAAA,CAAoB,GAApBA,IAAc,CAAE+B,IAAI,CAAC,CAACC,CAAC,GAAKA,CAAC,CAACC,IAAI,KAAK1D,EAAE,CAAC2D,UAAU,CAACC,aAAa,CAAC,CAAA,EACnE;oBACA,sBAAsB;oBACtB,IAAIlB,UAAU,EAAE;wBACd,MAAMoB,mBAAmB,GAAGrB,aAAa,GACrC7C,QAAQ,CAACmE,6DAA6D,CACpElD,QAAQ,EACRY,IAAI,CACL,GACD7B,QAAQ,CAACiE,gDAAgD,CACvDhD,QAAQ,EACRY,IAAI,CACL;wBACLT,KAAK,CAACU,IAAI,IAAIoC,mBAAmB,CAAC;qBACnC;oBAED,IAAIrB,aAAa,EAAE;wBACjBzB,KAAK,CAACU,IAAI,IACL/B,cAAc,CAACqE,uCAAuC,CACvDzC,MAAM,EACNE,IAAI,CACL,CACF;qBACF;iBACF,MAAM,IAAIzB,EAAE,CAACkE,mBAAmB,CAACzC,IAAI,CAAC,EAAE;oBACvC,iBAAiB;oBACjB,IAAIiB,UAAU,EAAE;wBACd,MAAMoB,mBAAmB,GAAGrB,aAAa,GACrC7C,QAAQ,CAACuE,uDAAuD,CAC9DtD,QAAQ,EACRY,IAAI,CACL,GACD7B,QAAQ,CAACwE,0CAA0C,CACjDvD,QAAQ,EACRY,IAAI,CACL;wBACLT,KAAK,CAACU,IAAI,IAAIoC,mBAAmB,CAAC;qBACnC;iBACF;aACF,CAAC;YAEF,OAAO9C,KAAK,CAAA;SACb;QAED,4CAA4C;QAC5CZ,KAAK,CAACiE,yBAAyB,GAAG,CAACxD,QAAgB,EAAEC,QAAgB,GAAK;YACxE,IAAI5B,cAAc,CAAC2B,QAAQ,CAAC,IAAI,CAAC5B,gBAAgB,CAAC4B,QAAQ,CAAC,EAAE;gBAC3D,MAAMyD,kBAAkB,GAAG1E,QAAQ,CAACyE,yBAAyB,CAC3DxD,QAAQ,EACRC,QAAQ,CACT;gBACD,IAAIwD,kBAAkB,EAAE,OAAOA,kBAAkB,CAAA;aAClD;YAED,OAAOnE,IAAI,CAACK,eAAe,CAAC6D,yBAAyB,CAACxD,QAAQ,EAAEC,QAAQ,CAAC,CAAA;SAC1E;QAED,OAAOV,KAAK,CAAA;KACb;IAED,OAAO;QAAEF,MAAM;KAAE,CAAA;CAClB"}