{"version":3,"sources":["../../../src/server/typescript/utils.ts"],"names":["path","ts","info","appDirRegExp","log","message","project","projectService","logger","init","opts","projectDir","getCurrentDirectory","RegExp","replace","getTs","getInfo","getTypeChecker","languageService","getProgram","getSource","fileName","getSourceFile","removeStringQuotes","str","isPositionInsideNode","position","node","start","getFullStart","getFullWidth","isDefaultFunctionExport","isFunctionDeclaration","hasExportKeyword","hasDefaultKeyword","modifiers","modifier","kind","SyntaxKind","ExportKeyword","DefaultKeyword","isInsideApp","filePath","test","isAppEntryFile","basename","isPageFile","getIsClientEntry","throwOnInvalidDirective","source","isClientEntry","isDirective","forEachChild","isExpressionStatement","isStringLiteral","expression","text","e","messageText","getStart","length","getWidth"],"mappings":"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"}