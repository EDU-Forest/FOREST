{"version":3,"sources":["../../../../src/build/webpack/plugins/middleware-plugin.ts"],"names":["getNamedMiddlewareRegex","getModuleBuildInfo","getSortedRoutes","webpack","sources","isMatch","EDGE_RUNTIME_WEBPACK","EDGE_UNSUPPORTED_NODE_APIS","MIDDLEWARE_BUILD_MANIFEST","CLIENT_REFERENCE_MANIFEST","MIDDLEWARE_MANIFEST","MIDDLEWARE_REACT_LOADABLE_MANIFEST","NEXT_CLIENT_SSR_ENTRY_SUFFIX","FLIGHT_SERVER_CSS_MANIFEST","SUBRESOURCE_INTEGRITY_MANIFEST","NEXT_FONT_MANIFEST","SERVER_REFERENCE_MANIFEST","getPageStaticInfo","traceGlobals","EVENT_BUILD_FEATURE_USAGE","normalizeAppPath","INSTRUMENTATION_HOOK_FILENAME","NextBuildContext","NAME","isUsingIndirectEvalAndUsedByExports","args","moduleGraph","runtime","module","usingIndirectEval","wp","exportsInfo","getExportsInfo","exportName","getUsed","UsageState","Unused","getEntryFiles","entryFiles","meta","opts","files","edgeSSR","isServerComponent","push","sriEnabled","filter","file","startsWith","endsWith","map","replace","hasInstrumentationHook","getCreateAssets","params","compilation","metadataByEntry","assets","middlewareManifest","sortedMiddleware","middleware","functions","version","entrypoint","entrypoints","values","metadata","name","get","page","edgeMiddleware","edgeApiFunction","matcherSource","isAppDir","catchAll","namedRegex","matchers","regexp","originalSource","edgeFunctionDefinition","env","Array","from","getFiles","wasm","wasmBindings","filePath","assetBindings","regions","Object","keys","RawSource","JSON","stringify","buildWebpackError","message","loc","entryModule","parser","error","compiler","WebpackError","state","current","isInMiddlewareLayer","layer","isProcessEnvMemberExpression","memberExpression","object","type","property","value","isNodeJsModule","moduleName","require","builtinModules","includes","isDynamicCodeEvaluationAllowed","fileName","edgeFunctionConfig","rootDir","unstable_allowDynamicGlobs","buildUnsupportedApiError","apiName","rest","start","line","registerUnsupportedApiHooks","expression","warnForUnsupportedApi","node","warnings","hooks","call","for","tap","callMemberChain","expressionMemberChain","warnForUnsupportedProcessApi","callee","getCodeAnalyzer","dev","handleExpression","optimize","InnerGraph","onUsage","used","buildInfo","Set","handleWrapExpression","expr","ConstDependency","dependencies","dep1","range","addPresentationalDependency","dep2","handleWrapWasmCompileExpression","handleWrapWasmInstantiateExpression","addUsedEnvVar","envVarName","nextUsedEnvVars","undefined","add","handleCallMemberChain","_","members","length","handleImport","source","importLocByPath","Map","importedModule","toString","set","sourcePosition","identifier","sourceContent","skip","prefix","new","importCall","import","declarator","init","id","properties","key","findEntryEdgeFunctionConfig","entryDependency","resolver","request","absolutePagePath","URL","searchParams","pageFilePath","Promise","resolve","err","path","config","nextConfig","isDev","getExtractMetadata","clear","resolverFactory","telemetry","entryName","entry","entries","options","getResolvedModule","modules","addEntriesFromDependency","dependency","getModule","forEach","includeDependencies","entryMetadata","ogImageGenerationCount","resource","hasOGImageGeneration","test","util","getEntryRuntime","record","eventName","payload","fileWithDynamicCode","userRequest","errors","join","nextEdgeSSR","nextEdgeMiddleware","nextEdgeApiFunction","envName","nextWasmMiddlewareBinding","nextAssetMiddlewareBinding","conn","getOutgoingConnections","featureName","invocationCount","MiddlewarePlugin","constructor","apply","normalModuleFactory","codeAnalyzer","finishModules","tapPromise","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS","SUPPORTED_NATIVE_MODULES","supportedEdgePolyfills","getEdgePolyfilledModules","records","mod","handleWebpackExternalForEdgeRuntime","context","contextInfo","getResolve","issuerLayer","has"],"mappings":"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"}